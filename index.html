<!DOCTYPE html>

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Project</title>
    <style>
        h1 {
            font-family: "Rubik Mono One", monospace;
            font-weight: 400;
            font-style: normal;


        }

        .rubik-mono-one-regular {
            font-family: "Rubik Mono One", monospace;

        }


        div.flex-container {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            flex-wrap: wrap;
            align-content: center;
            gap: 1em;
            padding: 30px;
            background-color: rgb(198, 53, 209);

        }

        .card {
            border-style: solid;
            border-width: 5px;
            border-color: rgb(79, 39, 85);
            width: 500px;
            max-width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            gap: 1em;
            ;
            background-color: rgb(209, 34, 209);


        }

        .card img {
            width: 150px;
            max-width: 100%;
            height: auto;
            display: block;


        }

        .item {
            font-family: "Rubik Mono One", monospace;
            font-weight: 400;
            font-style: normal;
        }

        .state {
            font-family: 'Courier New', Courier,
                monospace;
            font-style: oblique;
            font-weight: 700;
            font-size: 20px;
            color: rgb(52, 5, 58);
        }

        .highestPrice {
            font-family: 'Courier New', Courier, monospace;
            font-style: normal;
            font-weight: 700;

        }

        .lowestPrice {
            font-family: 'Courier New', Courier, monospace;
            font-style: normal;
            font-weight: 700;
        }

        h3 {
            font-family: 'Courier New', Courier, monospace;
            color: rgb(198, 53, 209);
            font-style: oblique;
        }

        .filter-dropdown {
            margin-bottom: 20px;
        }

        .filter-dropdown select {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        
        }
      
    </style>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap" rel="stylesheet">
</head>

<body>
    <div class="flex-container">
        <div class="header">
            <h1> Top 10 most expensive commissary items </h1>
            <h3>Across 46 states </h3>
        </div>

        <select id="filterDropdown">
            <option value="all">Show All</option>
            <option value="state">State</option>
            <option value="category">Product Category</option>
        </select>

        <div class="card">
            <img src="electric_fan.svg" alt="Electric Fan">
            <div class="card-content">
                <h2 class="item">Electric Fan</h2>
                <p class="state">Kansas</p>
                <p class="highestPrice">Highest price: $53</p>
                <p class="lowestPrice">Lowest price: $19</p>
            </div>
        </div>


    </div>


    </div>
    <script>

        const commissary_items = [

            {
                item: "Crucifix",
                state: "Delaware",
                highestPrice: "$53",
                lowestPrice: "$53",
                image: "crucifix.png"
            },
            {
                item: "Star of David",
                state: "Virginia",
                highestPrice: "$38",
                lowestPrice: "$38",
                image: "star.svg"
            },

            {
                item: "Prayer Rug",
                state: "Vermont",
                highestPrice: "$29",
                lowestPrice: "$29",
                image: "rug.jpg"

            },

            {
                item: "Quran",
                state: "Vermont",
                highestPrice: "$28",
                lowestPrice: "$27",
                image: "quran.jpg"
            },
            {
                item: "Hijab",
                state: "Delaware",
                highestPrice: "$18",
                lowestPrice: "$18",
                image: "hijab.jpg"
            },
            {
                item: "Bible",
                state: "Vermont",
                highestPrice: "$16",
                lowestPrice: "$16",
                image: "bible.jpg" // Added image for the Bible
            },
            {
                item: "Reading Glasses",
                state: "Vermont",
                highestPrice: "$16",
                lowestPrice: "$16",
                image: "glasses.jpg"
            },
            {
                item: "Hair Conditioner",
                state: "New Mexico",
                highestPrice: "$15",
                lowestPrice: "$3",
                image: "conditioner.jpg"
            },
            {
                item: "Relaxer",
                state: "West Virginia",
                highestPrice: "$14",
                lowestPrice: "$13",
                image: "relaxer.jpeg"
            }
        ]

        function build_card(item, state, highestPrice, lowestPrice, image) {

            // 1 select a container
            let container = document.querySelector(".flex-container");
            // 2 create a div
            let card = document.createElement("div");
            // 3 add classes to the div
            card.classList.add("card");
            // 4 populate the div with content
            card.innerHTML = `
            <img src= "${image}" alt="${item}">
                <div class="card-content">
                    <h2 class="item">${item}</h2>
                    <p class="state">${state}</p>
                    <p class="highestPrice">Highest price: ${highestPrice}</p>
                    <p class="lowestPrice">Lowest price: ${lowestPrice}</p>
                </div>`
            // 5 append the div to the container
            container.append(card);


        }

        commissary_items.forEach(function (commissary) {
            build_card(commissary.item, commissary.state, commissary.highestPrice, commissary.lowestPrice, commissary.image);

        })


        //        // Get the dropdown element
        //        let dropdown = document.getElementById('filterDropdown');

        // //query select all <td> elements
        // let state = document.querySelectorAll('state');

        // //query select all <th> elements
        // let item = document.querySelectorAll('item');

        // // Add an event listener when the dropdown changes 
        // // (the function inside this should 
        // // include the filter value and the two for each loops below)

        // dropdown.addEventListener("change",function(){


        //     // Get the selected value in the dropdown
        //     let filterValue = this.value;

        //     console.log(filterValue);
        //     // Make a for each loop that goes through each <td> element
        //     state.forEach(function(cell) {
        //         //if the dropdown value equals the data-party of the cell, set the display to none
        //         if (filterValue==cell.getAttribute("data-party")) {
        //             cell.style.display="none";
        //         } 
        //         // Otherwise, set each cell's display to table-cell
        //         else { cell.style.display= "state";

        //         }
        //     });

        //     // Make a for each loop that goes through each <th> element
        //     item.forEach(function(header) {
        //         //if the dropdown value equals the data-party of the cell, set the display to none
        //         if (filterValue==header.getAttribute("")) {
        //             header.style.display= "none";
        //         } 
        //         // Otherwise, set the header's display to table-cell
        //         else {
        //             header.style.display="table-cell";
        //         }
        //     });
        // Get the dropdown element
        let dropdown = document.getElementById('filterDropdown');

        // Add an event listener when the dropdown changes
        dropdown.addEventListener("change", function () {
            // Get the selected value in the dropdown
            let filterValue = this.value;

            // Query all the cards
            let cards = document.querySelectorAll('.card');

            // Loop through each card
            cards.forEach(function (card) {
                // Get the state and category from the card
                let state = card.querySelector('.state').textContent.trim();
                let Productcategory = card.querySelector('.item').textContent.trim();


                // Determine if the card should be displayed
                if (filterValue === "all") {
                    card.style.display = "flex"; // Show all cards
        // } else if (filterValue === "state" && state === "Kansas") {
        //     card.style.display = "flex"; // Show cards for Kansas
                  }  else if (state.has(filterValue) && state === filterValue) {
                        card.style.display = "flex"; // Show cards for the selected state
                    }
                 else if (filterValue === "Product Category") {
                    // Group items into categories
                    if (["Crucifix", "Star of David", "Prayer Rug", "Quran", "Hijab", "Bible"].includes(category)) {
                        card.style.display = "flex"; // Religious items
                        display.textContent = "Religious Items"
                    } else if (["Ramen", "Beans", "Peanut Butter", "Mac and Cheese"].includes(category)) {
                        card.style.display = "flex"; // Food items
                        display.textContent = "Food"
                    } else if (["Reading Glasses", "Hair Conditioner", "Relaxer"].includes(category)) {
                        card.style.display = "flex"; // Personal Care items
                        display.textContent = "Personal Items"
                    } else {
                        card.style.display = "none"; // Hide unrelated items
                    }
                } else {
                    card.style.display = "none"; // Hide cards that don't match
                }
            });
        })



    </script>
    </div>


</body>

</html>